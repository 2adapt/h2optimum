let d=function(t){let r=getComputedStyle(t),n=Number(r.transitionDuration.replace(/,.*/,"").replace("s",""));return n===0&&(n=Number(r.animationDuration.replace("s",""))),n*1e3};function l(e=""){return e==null&&(e=""),e.split(" ").filter(Boolean)}function m(e){e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")}function g(e){e.style.display="none"}function y(e,t){let{dataset:r}=e,n=t?"Enter":"Leave",i=l(r[`transition${n}`]),a=l(r[`transition${n}Start`]),f=l(r[`transition${n}End`]),c=l(e.getAttribute("class"));if(r[`transition${n}Prepare`])debugger;let s={start:function(){e.classList.add(...a)},during:function(){e.classList.add(...i)},end:function(){e.classList.remove(...a.filter(o=>!c.includes(o))),e.classList.add(...f)},cleanup:function(){e.isConnected&&(e.classList.remove(...i.filter(o=>!c.includes(o))),e.classList.remove(...f.filter(o=>!c.includes(o))))},executeEnterSequence(){s.start(),s.during(),requestAnimationFrame(()=>{m(e),requestAnimationFrame(()=>{let u=d(e);s.end(),setTimeout(()=>{e.isConnected&&s.cleanup()},u)})})},executeLeaveSequence(){s.start(),s.during(),requestAnimationFrame(()=>{let u=d(e);s.end(),setTimeout(()=>{g(e),e.isConnected&&s.cleanup()},u)})}};return s}function h(e,t){let r=typeof t=="object"?t.show:t,n=typeof t=="object"&&typeof t.onTransitionEnd=="function"?t.onTransitionEnd:null,i=y(e,r);i.start(),i.during(),requestAnimationFrame(()=>{m(e),requestAnimationFrame(()=>{let a=d(e);i.end(),setTimeout(()=>{i.cleanup(),n&&n("enter")},a)})})}function b(e,t){let r=typeof t=="object"?t.show:t,n=typeof t=="object"&&typeof t.onTransitionEnd=="function"?t.onTransitionEnd:null,i=y(e,r);i.start(),i.during(),requestAnimationFrame(()=>{let a=d(e);i.end(),setTimeout(()=>{g(e),i.cleanup(),n&&n("leave")},a)})}function E(e,t){(typeof t=="object"?t.show:t)?m(e):g(e);function n(a,f){(typeof a=="object"?a.show:a)?h(e,a):b(e,a)}return{update:n}}export{E as c};
