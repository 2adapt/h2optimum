{"version":3,"file":"7-f7486ad3.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/testecards/_slug_id_/_page.server.js","../../../.svelte-kit/adapter-node/nodes/7.js"],"sourcesContent":["import { e as error, r as redirect } from \"../../../../chunks/index.js\";\nasync function load(event) {\n  let paramString = event.params.slug_id;\n  let user = event.locals;\n  let loggedUserID = 1;\n  let paramArray = paramString.split(\"-\");\n  let id = paramArray.pop();\n  const res = await fetch(`https://app.2adapt.pt/api/get-installations?user_id=1`);\n  const installations = await res.json();\n  const installation = installations.find((item) => item.id == id);\n  if (!installation) {\n    throw error(404, {\n      message: \"Installation not found\"\n    });\n  }\n  installation.devices.forEach((obj) => {\n    obj.last_reading_formatted = new Date(obj.last_reading).toLocaleString();\n  });\n  if (event.locals.auth.isAuthenticated == false || installation.userId != loggedUserID) {\n    throw redirect(303, \"/public/\" + paramString);\n  }\n  return {\n    installation,\n    user\n  };\n}\nconst actions = {\n  default: async (event) => {\n    const formData = await event.request.formData();\n    for (let field of formData) {\n    }\n    return { success: true };\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/testecards/_slug_id_/_page.server.js';\n\nexport const index = 7;\nexport const component = async () => (await import('../entries/pages/testecards/_slug_id_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/testecards/[slug_id]/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/7.4c0db3d0.js\",\"_app/immutable/chunks/index.640f31cf.js\",\"_app/immutable/chunks/Installation.5f3eac3a.js\",\"_app/immutable/chunks/singletons.50cae92a.js\",\"_app/immutable/chunks/preload-helper.41c905a7.js\",\"_app/immutable/chunks/MyModal.21921a7f.js\",\"_app/immutable/chunks/stores.3dee118a.js\"];\nexport const stylesheets = [\"_app/immutable/assets/Installation.21fdfc57.css\",\"_app/immutable/assets/leaflet.4d8e306f.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":";;AACA,eAAe,IAAI,CAAC,KAAK,EAAE;AAC3B,EAAE,IAAI,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;AACzC,EAAE,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,EAAE,IAAI,YAAY,GAAG,CAAC,CAAC;AACvB,EAAE,IAAI,UAAU,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC1C,EAAE,IAAI,EAAE,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC;AAC5B,EAAE,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,CAAC,qDAAqD,CAAC,CAAC,CAAC;AACnF,EAAE,MAAM,aAAa,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;AACzC,EAAE,MAAM,YAAY,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;AACnE,EAAE,IAAI,CAAC,YAAY,EAAE;AACrB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE;AACrB,MAAM,OAAO,EAAE,wBAAwB;AACvC,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AACxC,IAAI,GAAG,CAAC,sBAAsB,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,cAAc,EAAE,CAAC;AAC7E,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,IAAI,KAAK,IAAI,YAAY,CAAC,MAAM,IAAI,YAAY,EAAE;AACzF,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,UAAU,GAAG,WAAW,CAAC,CAAC;AAClD,GAAG;AACH,EAAE,OAAO;AACT,IAAI,YAAY;AAChB,IAAI,IAAI;AACR,GAAG,CAAC;AACJ,CAAC;AACD,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO,KAAK,KAAK;AAC5B,IAAI,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;AACpD,IAAI,KAAK,IAAI,KAAK,IAAI,QAAQ,EAAE;AAChC,KAAK;AACL,IAAI,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC7B,GAAG;AACH,CAAC;;;;;;;;AC/BW,MAAC,KAAK,GAAG,EAAE;AACX,MAAC,SAAS,GAAG,YAAY,CAAC,MAAM,OAAO,4BAAuD,CAAC,EAAE,QAAQ;AAEzG,MAAC,SAAS,GAAG,kDAAkD;AAC/D,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,yCAAyC,CAAC,gDAAgD,CAAC,8CAA8C,CAAC,kDAAkD,CAAC,2CAA2C,CAAC,0CAA0C,EAAE;AACtU,MAAC,WAAW,GAAG,CAAC,iDAAiD,CAAC,4CAA4C,EAAE;AAChH,MAAC,KAAK,GAAG;;;;"}